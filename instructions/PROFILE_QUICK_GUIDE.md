# Profile Management - Quick Reference Guide

## ğŸš€ What Changed?

**Before**: Settings tab with basic app settings  
**After**: Comprehensive Profile tab with user management, settings, and security

---

## ğŸ“± New Profile Tab Structure

### 1ï¸âƒ£ Profile Screen (Main)

**What it shows:**

- Profile picture (tap to edit)
- Username and role badge
- Email, phone, supervisor
- My institutions list
- Settings (dark mode, notifications)
- Social media links
- Logout button
- Delete account option

**Actions:**

- Tap "Edit Profile" to update information
- Toggle dark mode and notifications
- View About Us and Privacy Policy
- Access social media
- Logout from account
- Delete account (danger zone)

---

### 2ï¸âƒ£ Edit Profile Screen

**What you can edit:**

- Profile picture (tap to upload from gallery)
- Username
- Email
- Phone number

**Features:**

- Image picker with 1:1 crop
- Form validation
- Real-time error messages
- Save or cancel changes

**Note:** Role and supervisor cannot be changed (contact support)

---

### 3ï¸âƒ£ Delete Account Screen

**Safety features:**

- Password required
- Multiple warnings
- Clear consequences list
- Admin protection notice

**What happens:**

- âŒ Account marked as deleted
- âŒ Login prevented
- âœ… Data preserved for 30 days
- âœ… Can contact support to restore

---

### 4ï¸âƒ£ About Us Screen

- Organization information
- KBOG mission and values
- Logo and branding

---

### 5ï¸âƒ£ Privacy Policy Screen

- Data collection details
- Usage information
- User rights
- Security measures
- Contact information

---

## ğŸ¨ Visual Layout

### Profile Screen Layout

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         [Profile Picture]        â”‚
â”‚         John Doe                 â”‚
â”‚         [TUTOR]                  â”‚
â”‚         [Edit Profile]           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Profile Information              â”‚
â”‚ âœ‰ï¸  Email: john@example.com     â”‚
â”‚ ğŸ“± Phone: +1234567890           â”‚
â”‚ ğŸ‘¤ Supervisor: Dr. Smith        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ My Institutions                  â”‚
â”‚ [ğŸ¥ Hospital A - HA001]         â”‚
â”‚ [ğŸ¥ Medical College B - MCB001] â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Settings                         â”‚
â”‚ ğŸŒ™ Dark Mode          [Toggle]  â”‚
â”‚ ğŸ”” Notifications      [Toggle]  â”‚
â”‚ â„¹ï¸  About Us              >     â”‚
â”‚ ğŸ›¡ï¸  Privacy Policy        >     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Follow Us                        â”‚
â”‚ [ğŸ“·] [ğŸŒ] [âœ‰ï¸]                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚         [Logout]                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ âš ï¸  Danger Zone                 â”‚
â”‚ [Delete Account]                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Edit Profile Layout

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      [Profile Picture]           â”‚
â”‚      [Change Photo]              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Username *                       â”‚
â”‚ [john.doe            ]           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Email *                          â”‚
â”‚ [john@example.com    ]           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Phone                            â”‚
â”‚ [+1234567890         ]           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚      [Save Changes]              â”‚
â”‚      [Cancel]                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â„¹ï¸  Note: Role and supervisor   â”‚
â”‚    cannot be changed             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Delete Account Layout

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          âš ï¸                      â”‚
â”‚      Delete Account              â”‚
â”‚                                  â”‚
â”‚ This will permanently delete     â”‚
â”‚ your account...                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ What will happen:                â”‚
â”‚ âŒ Logged out immediately        â”‚
â”‚ âŒ Cannot login again            â”‚
â”‚ âœ… Data preserved 30 days        â”‚
â”‚ âœ… Contact support to restore    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ›¡ï¸  Important: If you're admin â”‚
â”‚    of institutions, transfer     â”‚
â”‚    rights first                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Enter Password to Confirm *      â”‚
â”‚ [â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢]        [ğŸ‘ï¸]      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [Delete My Account Permanently]  â”‚
â”‚ [Cancel]                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ§ª Testing Steps

### Test 1: View Profile

1. âœ… Open app
2. âœ… Tap "Profile" tab (person icon)
3. âœ… See profile information
4. âœ… See institutions list
5. âœ… See settings section

### Test 2: Edit Profile

1. âœ… From profile, tap "Edit Profile"
2. âœ… Tap "Change Photo" and select image
3. âœ… Change username
4. âœ… Change email
5. âœ… Change phone
6. âœ… Tap "Save Changes"
7. âœ… See success message
8. âœ… Return to profile with updated info

### Test 3: Settings

1. âœ… Toggle dark mode on/off
2. âœ… Toggle notifications on/off
3. âœ… Tap "About Us" and view info
4. âœ… Tap "Privacy Policy" and read
5. âœ… Tap social media icons

### Test 4: Delete Account

1. âœ… Scroll to "Danger Zone"
2. âœ… Tap "Delete Account"
3. âœ… See warning screen
4. âœ… Enter password
5. âœ… Confirm deletion
6. âœ… Get logged out
7. âœ… Cannot login again

### Test 5: Admin Protection

1. âœ… As institution admin, try to delete
2. âœ… See error about admin rights
3. âœ… Cannot delete until rights transferred

---

## ğŸ“Š API Integration

### Endpoints Used

| Screen         | Endpoint            | Method |
| -------------- | ------------------- | ------ |
| Profile (View) | `/users/profile/me` | GET    |
| Edit Profile   | `/users/profile/me` | PUT    |
| Delete Account | `/users/profile/me` | DELETE |

### Data Flow

```
1. Profile Screen
   â””â”€> GET /users/profile/me
       â””â”€> Display user info

2. Edit Profile
   â””â”€> PUT /users/profile/me (multipart/form-data)
       â””â”€> Update profile
       â””â”€> Refresh profile screen

3. Delete Account
   â””â”€> DELETE /users/profile/me (password in body)
       â””â”€> Soft delete account
       â””â”€> Logout user
       â””â”€> Redirect to login
```

---

## ğŸ¯ Common Use Cases

### Use Case 1: Update Email

```
Profile â†’ Edit Profile â†’ Change email â†’ Save
```

### Use Case 2: Change Profile Picture

```
Profile â†’ Edit Profile â†’ Change Photo â†’ Select image â†’ Save
```

### Use Case 3: Toggle Dark Mode

```
Profile â†’ Toggle "Dark Mode" switch
```

### Use Case 4: View Institutions

```
Profile â†’ Scroll to "My Institutions" section
```

### Use Case 5: Delete Account

```
Profile â†’ Scroll to "Danger Zone" â†’ Delete Account â†’
Enter password â†’ Confirm â†’ Logged out
```

---

## âš ï¸ Important Notes

### For Users

- **Password Required**: You need your password to delete account
- **30-Day Window**: Contact support within 30 days to restore
- **Admin Rights**: Transfer admin rights before deletion
- **Photo Size**: Profile pictures are cropped to square (1:1)
- **Settings Persist**: Dark mode and notification preferences are saved locally

### For Admins

- Cannot delete account while being institution admin
- Must transfer admin rights first
- Clear error message guides you

### For Developers

- Profile uses React Query for caching
- Image uploads use multipart/form-data
- Soft delete preserves data integrity
- Settings stored in AsyncStorage
- Theme toggle updates entire app

---

## ğŸ” Security Features

### Password Verification

- âœ… Required for account deletion
- âœ… Prevents accidental deletions
- âœ… Server-side validation

### Admin Protection

- âœ… Checks if user is institution admin
- âœ… Blocks deletion if admin
- âœ… Lists affected institutions

### Soft Delete

- âœ… Account marked as deleted
- âœ… Login prevented
- âœ… Data preserved
- âœ… 30-day restoration window

---

## ğŸ“ Files Reference

### API Service

- `api/profile.js` - Profile API calls

### Screens

- `screens/ProfileScreen.js` - Main profile screen
- `screens/EditProfileScreen.js` - Edit profile
- `screens/DeleteAccountScreen.js` - Delete account
- `screens/AboutUsScreen.js` - About us info
- `screens/PrivacyPolicyScreen.js` - Privacy policy

### Navigation

- `App.js` - Profile tab configuration

---

## ğŸ¨ UI Elements

### Components Used

- **Profile Picture**: 120x120 circle with border
- **Role Badge**: Small colored badge
- **Info Cards**: Clean white/themed cards
- **Toggle Switches**: For settings
- **Icon Buttons**: For social media
- **Danger Zone**: Red-bordered section

### Icons

- Profile tab: `person` / `person-outline`
- Edit: `create-outline`
- Delete: `trash-outline`
- Email: `mail-outline`
- Phone: `call-outline`
- Supervisor: `person-outline`
- Dark mode: `moon-outline`
- Notifications: `notifications-outline`
- About: `information-circle-outline`
- Privacy: `shield-checkmark-outline`

---

## ğŸ’¡ Tips & Tricks

### For Best Experience

1. **Update profile picture** for better identification
2. **Enable notifications** to stay informed
3. **Use dark mode** to save battery
4. **Read privacy policy** to understand data usage
5. **Contact support** before deleting account

### For Developers

1. **Cache profile data** with React Query
2. **Invalidate queries** after updates
3. **Handle errors gracefully** with user-friendly messages
4. **Test image picker** on both iOS and Android
5. **Test soft delete flow** end-to-end

---

## ğŸ‰ Summary

### What's New

- âœ… Profile tab replaces Settings tab
- âœ… Comprehensive profile management
- âœ… Image upload capability
- âœ… Account deletion with safety checks
- âœ… Settings integrated into profile
- âœ… About Us and Privacy Policy
- âœ… Social media links

### What's Better

- **More organized**: All user-related features in one place
- **More secure**: Password verification for critical actions
- **More informative**: Clear consequences and warnings
- **More flexible**: Easy profile updates with image support
- **More professional**: Polished UI with proper theming

---

**Ready to use! ğŸš€**
